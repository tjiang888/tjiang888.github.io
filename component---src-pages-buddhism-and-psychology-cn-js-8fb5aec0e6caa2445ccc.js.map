{"version":3,"sources":["webpack://portfolio/./src/pages/buddhism_and_psychology.cn.js","webpack://portfolio/./src/subpage_src/components/Book.js","webpack://portfolio/./src/subpage_src/components/partials/Navlinks.js","webpack://portfolio/./src/subpage_src/components/partials/SideBar.js","webpack://portfolio/./src/subpage_src/images/logo.png","webpack://portfolio/./src/subpage_src/components/partials/Header.js","webpack://portfolio/./src/subpage_src/components/partials/Footer.js","webpack://portfolio/./src/subpage_src/components/Layout.js","webpack://portfolio/./src/subpage_src/images/buddhism-cover.jpg"],"names":["lang","cover","BuddhismCover","bookData","data","Book","componentDidMount","window","scrollTo","render","this","props","isEn","seoTitle","seoTitleCN","title","titleCN","publisher","publisherCN","bookLink","preOrderLink","readLink","bookIntroduction","bookIntroductionCN","reviews","moreReviews","className","map","review","key","reviewer","magazine","children","reviewerCN","linkTarget","reviewCN","id","name","content","join","src","alt","target","href","rel","text","idx","PureComponent","generateNavLinks","pageNames","pageNamesCN","themeColors","isInSidebar","ToggleLang","link","Link","to","getLink","activeClassName","length","langPath","toLowerCase","replace","navLinks","Component","Sidebar","links","closeSidebar","Header","isMobileDevice","isSidebarOpen","Navlinks","style","width","margin","verticalAlign","Logo","currYear","Date","getFullYear","year","establishYear","toString","state","viewportWidth","maxMobileWidth","updateViewportWidth","setState","innerWidth","getPageThemeColors","Object","keys","forEach","color","themeColor","updateSidebarStatus","prevState","addEventListener","componentWillUnmount","removeEventListener","pageThemeColors","sidebarStyle","height","menuBaseClassName","menuClassName","concat","fixedStyle","position","type","aria-label","aria-controls","onClick"],"mappings":"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","file":"component---src-pages-buddhism-and-psychology-cn-js-8fb5aec0e6caa2445ccc.js","sourcesContent":["import React from \"react\";\nimport Book from \"../subpage_src/components/Book\";\nimport BuddhismCover from '../subpage_src/images/buddhism-cover.jpg'\nimport data from '../data/Data';\nimport Layout from \"../subpage_src/components/Layout\";\n\nconst BuddhismAndPsychology = () => {\n    return (\n        <Layout lang={\"cn\"}>\n            <Book\n                lang={\"cn\"}\n                cover = {BuddhismCover}\n                bookData = {data.buddhism}\n            />\n        </Layout>\n    )\n\n}\n\nexport default BuddhismAndPsychology;","import React, { PureComponent } from 'react'\nimport ReactMarkdown from 'react-markdown'\nimport {Helmet} from \"react-helmet\"\nimport \"../styles.scss\"\n\nexport default class Book extends PureComponent {\n    componentDidMount () {\n        window.scrollTo(0,0)\n    }\n\n    render () {\n        const {lang, cover, bookData} = this.props\n        const isEn = lang===\"en\"\n        const {seoTitle, seoTitleCN, title, titleCN, publisher, publisherCN, bookLink, preOrderLink, readLink, bookIntroduction, bookIntroductionCN, reviews} = bookData\n\n        const moreReviews = reviews && \n                <ul className='more-book-review'>\n                    {reviews.map(review => \n                        <li key={review.reviewer} className='review-item'>\n                            <div className='book-text'>\n                                <ReactMarkdown \n                                    className={review.magazine? 'commentor magazine' : 'commentor'}\n                                    key={review.reviewer}\n                                    children={ isEn ? review.reviewer : review.reviewerCN}\n                                    linkTarget=\"_blank\">\n                                </ReactMarkdown>\n                                <ReactMarkdown\n                                    className=\"review-content\"\n                                    key={review.review}\n                                    children={ isEn ? review.review : review.reviewCN}\n                                    linkTarget=\"_blank\">\n                                </ReactMarkdown>\n                            </div>\n                        </li>\n                    )}\n                </ul>\n\n        return (\n            <div id='maincontent-container'>\n                <main className='book'>\n                    <Helmet>\n                        <title>{ isEn ? seoTitle : seoTitleCN }</title>\n                        <meta name=\"description\" content={ isEn ? bookIntroduction.join(\" \") : bookIntroductionCN.join(\" \")} />\n                    </Helmet>\n                    <div className='grid'>\n                        <h2 className='bookname'>\n                            {isEn ? title: titleCN}\n                        </h2>\n                        <div className='book-pic-container'>\n                            <div className='gap'>\n                                <img className='book-img' \n                                    src={cover} \n                                    alt={`The cover of '${title}'`}\n                                />\n                                <p className='publisher'>{isEn ? publisher : publisherCN}</p>\n                                {/* <button>Read</button> */}\n                                {bookLink && \n                                    <a className='book-link' target=\"_blank\" href={bookLink} rel=\"noopener noreferrer\">\n                                        {isEn ? \"Available on Amazon\" : \"亚马逊有售\"}\n                                    </a>}\n                                {preOrderLink && \n                                    <a className='book-link' target=\"_blank\" href={preOrderLink} rel=\"noopener noreferrer\">\n                                        {isEn ? \"Preorder\" : \"预购\"}\n                                    </a>}\n                                {readLink &&\n                                    <a className='book-link' href={readLink}>\n                                        {isEn ? \"Read Online\" : \"在线阅读\"}\n                                    </a>}\n                            </div>\n                        </div>\n\n                        <div className='book-introduction'>\n                            {isEn && bookIntroduction && bookIntroduction.map((text, idx) =>\n                                <ReactMarkdown\n                                    className='book-text bigger-first-letter'\n                                    key={`${title} introduction ${idx}`}\n                                    children={text}\n                                />\n                            )}\n                            {!isEn && bookIntroductionCN && bookIntroductionCN.map((text, idx) =>\n                                <ReactMarkdown\n                                    className='book-text bigger-first-letter'\n                                    key={`${title} introduction ${idx}`}\n                                    children={text}\n                                />\n                            )}\n                        </div>\n\n                        {reviews && \n                            <div className='book-review'>\n                                <h2>{ isEn ? \"Reviews\" : \"评荐\" }</h2>\n                                {moreReviews}\n                            </div>\n                        }\n\n                    </div>\n                </main>\n            </div>\n        )\n    }\n}","import React, { Component } from 'react'\nimport { Link } from \"gatsby\";\nimport data from \"../../../data/Data\";\nimport ToggleLang from \"../../../components/theme/Header/ToggleLang\";\n\nclass NavLinks extends Component {\n\n    generateNavLinks = (lang, pageNames, pageNamesCN, themeColors, isInSidebar) =>\n        <React.Fragment>\n            <li className={isInSidebar? 'sidebar-item': 'nav-item'}>\n                <ToggleLang lang={lang}/>\n            </li>\n            { !isInSidebar && <span className='link-separator'>|</span>}\n            {pageNames.map((link, idx) =>\n                <li className={isInSidebar? 'sidebar-item': 'nav-item'} key={idx}>\n                    <Link\n                        to={this.getLink(lang, link)}\n                        className={isInSidebar? 'sidebar-link' : 'nav-link'}\n                        activeClassName='active'\n                    >\n                        { lang===\"en\" ? link : pageNamesCN[idx]}\n                    </Link>\n                    { !isInSidebar && idx !== pageNames.length -1 && <span className='link-separator'>|</span>}\n                </li>\n            )}\n        </React.Fragment>\n\n    getLink = (lang, link) => {\n        const langPath = lang===\"en\" ? \"\" : \"cn/\"\n        return link.toLowerCase() !== 'home'\n            ? ('/' + langPath + link.toLowerCase().replace(/ /g, \"_\"))\n            : ('/' + langPath)\n    }\n\n    render() {\n        const pageNames = data.pageNames\n        const pageNamesCN = data.pageNamesCN.map(name => name.toLowerCase())\n        const {lang, themeColors, isInSidebar} = this.props\n        const navLinks = this.generateNavLinks(lang, pageNames, pageNamesCN, themeColors, isInSidebar)\n        return (    \n            <ul className=\"nav\">\n                {navLinks}\n            </ul>\n        )\n    }\n}\n\nexport default NavLinks;","import React, { Component } from 'react'\nimport NavLinks from './Navlinks'\n\nexport default class Sidebar extends Component {\n    render () {\n        const {lang, links, themeColors, closeSidebar} = this.props\n        return (\n            <NavLinks\n                lang={lang}\n                links={links}\n                themeColors={themeColors}\n                isInSidebar = {true}\n                closeSidebar = {closeSidebar}\n            />\n        )\n    }\n}","export default __webpack_public_path__ + \"static/logo-5cf5fa44decbe7d6fef23a11e84a2256.png\";","import React, { Component } from 'react'\nimport Navlinks from './Navlinks'\nimport Logo from '../../images/logo.png'\nimport Link from \"gatsby-link\";\n// import Logo from \"../../../components/theme/Header/Logo\";\n\nexport default class Header extends Component {\n    render() {\n        const {lang, links, themeColors, isMobileDevice, isSidebarOpen} = this.props\n        const navLinks = isMobileDevice\n            ? ''\n            :   <Navlinks\n                    lang={ lang }\n                    links={ links }\n                    themeColors={ themeColors }\n                />\n\n        return (    \n            <header id={isSidebarOpen? '' : 'main-header'}>\n                <h1 style={{width: \"100%\", margin:'0'}}>\n                    <Link to={ lang===\"en\" ? \"/\" : \"/cn\" } style={{verticalAlign: 'middle'}}>\n                        <img src={Logo} alt='logo'/>\n                        {/*<Logo />*/}\n                    </Link>\n                </h1>\n                {navLinks}\n            </header>\n        )\n    }\n}","import React, { Component } from 'react'\n// import LinkedIn from './../../imgs/linkedin.svg'\n// import Rutgers from './../../imgs/rutgers.png'\n// import GoogleScholar from './../../imgs/google-scholar.png'\n// import Academia from './../../imgs/academia.png'\n// import Email from './../../imgs/e-mail.svg'\n// import Logo from './../../imgs/logo.png'\n\nexport default class Header extends Component {\n    render () {\n        const isEn = this.props.lang === \"en\";\n        const establishYear = 2018\n        const currYear = (new Date()).getFullYear()\n        const year = establishYear < currYear ? `${establishYear} - ${currYear}` : currYear.toString()\n        // const copyright = <p>© {year} <span className='taojiang'>Tao Jiang</span></p>\n        // const copyright = <p>© {year} <img src={Logo} alt='Logo of Tao Jiang' style={{display: 'inline-block', height: '1em'}}/></p>\n        // return (\n        //     <footer className='footer'>\n        //             {/* <a href='https://scholar.google.com/citations?user=BfEW4ggAAAAJ&hl=en&oi=ao' target='_blank' rel='noopener noreferrer'>\n        //                 <img className='icon' src={GoogleScholar} alt='Google Scholar' />\n        //             </a>\n        //             <span className='icon-gap'></span> */}\n                    \n        //             <a href='mailto:tjiang@rutgers.edu'>\n        //                 <img className='icon' src={Email} alt='Click to send Email to Tao Jiang' />\n        //             </a>\n        //             {!isMobileDevice &&\n        //                 <React.Fragment>\n        //                     <span className='icon-gap'></span>\n        //                     <a href='https://rccs.rutgers.edu/people/director' target='_blank' rel='noopener noreferrer'>\n        //                         <img className='icon' src={Rutgers} alt='Rutgers' />\n        //                     </a>\n        //                     <span className='icon-gap'></span>\n        //                     <a href='https://www.linkedin.com/in/tao-jiang-bb80b837/' target='_blank' rel='noopener noreferrer'>\n        //                         <img className='icon' src={LinkedIn} alt='LinkedIn' />\n        //                     </a>\n        //                 </React.Fragment>\n        //             }\n        //             {copyright}\n        //             <p className='footer-text'>Created by <a id='developer' href='https://biyunwu.com' target='_blank' rel=\"noopener noreferrer\">Biyun Wu</a></p>\n        //     </footer>\n        // )\n\n        return (\n            <footer className='footer'>\n                    <div>\n                        <a href='mailto:tjiang@rutgers.edu'>\n                            {isEn ? \"Email\" : \"电子邮箱\"}\n                        </a>\n                        <span className='icon-gap'/>\n                        <a href='https://rccs.rutgers.edu/people/director' target='_blank' rel='noopener noreferrer'>\n                            {isEn ? \"Rutgers\" : \"罗格斯大学\"}\n                        </a>\n                        <span className='icon-gap'/>\n                        <a href='https://www.linkedin.com/in/tao-jiang-bb80b837/' target='_blank' rel='noopener noreferrer'>\n                            {isEn ? \"Linkedin\" : \"领英\"}\n                        </a>\n                        <span className='icon-gap'/>\n                        <a href='https://twitter.com/taojiangscholar' target='_blank' rel='noopener noreferrer'>\n                            {isEn ? \"Twitter\" : \"推特\"}\n                        </a>\n                    </div>\n                    <p className='footer-text'>© {year} { isEn ? \"Tao Jiang\" : \"蒋韬保留所有权利\"}</p>\n                    <p className='footer-text'>{ isEn ? \"Created by Biyun Wu\" : \"此网站由 Biyun Wu 开发\"}</p>\n            </footer>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport data from \"../../data/Data\";\nimport SideBar from './partials/SideBar'\nimport Header from './partials/Header';\nimport Footer from './partials/Footer'\n// import BackToTop from \"react-back-to-top-button\";\nimport \"../styles.scss\"\n\n// const links =\n//     ['home', 'origins of chinese phil', 'buddhism & psychology', 'freud & china', 'papers', 'Events', 'Twitter', 'about']\n//         .map(ele => ele.toLowerCase())\n\n// const pageLinks = links.map(link => '/' + link.replace(/ /g, \"_\"))\n\nclass Layout extends Component {\n\n    state = {\n        viewportWidth: 0,\n        maxMobileWidth: 500,\n        isSidebarOpen: false\n    }\n\n    componentDidMount () {\n        this.updateViewportWidth()\n        window.addEventListener('resize', this.updateViewportWidth)\n    }\n\n    componentWillUnmount () {\n        window.removeEventListener('resize', this.updateViewportWidth)\n    }\n\n    updateViewportWidth = () => {\n        this.setState({viewportWidth: window.innerWidth})\n        if (window.innerWidth > this.state.maxMobileWidth){\n            this.setState({isSidebarOpen: false})\n        }\n    }\n\n    getPageThemeColors = (data) => {\n        const themeColors = {}\n        Object.keys(data).forEach(key => {\n            const color = data[key].themeColor\n            if (color) {\n                themeColors[key] = color\n            }\n        })\n        return themeColors\n    }\n\n    updateSidebarStatus = () => {\n        this.setState(prevState => ({isSidebarOpen: !prevState.isSidebarOpen}))\n    }\n\n    render() {\n        const {viewportWidth, maxMobileWidth, isSidebarOpen} = this.state\n        const { lang } = this.props\n        const isMobileDevice = viewportWidth <= maxMobileWidth\n        const pageThemeColors = this.getPageThemeColors(data)\n        const sidebarStyle = isSidebarOpen ? {height: '100%'} : {height: '0'}\n        // Refer to Hamburgers library: https://github.com/jonsuh/hamburgers\n        const menuBaseClassName = \"hamburger hamburger--collapse\"\n        const menuClassName = isSidebarOpen ? menuBaseClassName.concat(\" is-active\") : menuBaseClassName\n        // When sidebar is open, prevent the burger icon from moving when the page is being scrolling up and down.\n        // Also, prevent page from scrolling when the sidebar is open.\n        const fixedStyle =  isSidebarOpen ? {position: 'fixed'} : {}\n\n        return (\n            <React.Fragment>\n                {isMobileDevice &&\n                <React.Fragment>\n                    <button id='burger' className={menuClassName} type=\"button\"\n                            aria-label=\"Menu\" aria-controls=\"sidebar\"\n                            onClick={this.updateSidebarStatus}\n                            style={fixedStyle}\n                    >\n                            <span className=\"hamburger-box\">\n                                <span className=\"hamburger-inner\"/>\n                            </span>\n                    </button>\n                    <div id='sidebar' style={sidebarStyle}>\n                        <Header isMobileDevice = {true} isSidebarOpen = {true}/>\n                        <SideBar\n                            lang={lang}\n                            themeColors = {pageThemeColors}\n                            closeSidebar = {this.updateSidebarStatus}\n                        />\n                        <Footer isMobileDevice = {isMobileDevice}/>\n                    </div>\n                </React.Fragment>\n                }\n                <div id='app' style={fixedStyle}>\n                    <Header\n                        lang = {lang}\n                        themeColors = {pageThemeColors}\n                        isMobileDevice = {isMobileDevice}\n                    />\n                    {this.props.children}\n                    <Footer lang = {lang} />\n                    {/*<BackToTop*/}\n                    {/*    showOnScrollUp*/}\n                    {/*    showAt={100}*/}\n                    {/*    speed={1500}*/}\n                    {/*    easing=\"easeInOutQuint\"*/}\n                    {/*>*/}\n                    {/*    <span>scroll up</span>*/}\n                    {/*</BackToTop>*/}\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default Layout;\n","export default __webpack_public_path__ + \"static/buddhism-cover-989587bd718a29d32cb6e085ab2242f9.jpg\";"],"sourceRoot":""}